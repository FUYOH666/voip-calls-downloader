# ⭐ Конфигурация CloudPBX RT Calls Downloader

# === ПАРАМЕТРЫ ПОДКЛЮЧЕНИЯ ===
cloudpbx:
  # Базовый URL API (не изменяйте)
  base_url: "https://p2.cloudpbx.rt.ru/webapi"
  
  # Учетные данные загружаются из переменных окружения:
  # CLOUDPBX_LOGIN, CLOUDPBX_PASSWORD, CLOUDPBX_DOMAIN

# === НАСТРОЙКИ ЗАГРУЗКИ ===
download:
  # Директория для сохранения аудиофайлов
  dir: "./downloads"
  
  # Интервал проверки новых звонков (в секундах)
  # 300 = 5 минут, 600 = 10 минут, 3600 = 1 час
  check_interval: 300
  
  # Сколько часов назад искать звонки при каждой проверке
  lookback_hours: 24

# === ФИЛЬТРЫ ЗВОНКОВ ===
filters:
  # Минимальная длительность звонка в секундах (180 = 3 минуты)
  min_duration_seconds: 180
  
  # Загружать только входящие звонки (true/false)
  only_incoming: true
  
  # Максимальное количество записей за один запрос
  records_per_page: 100

# === БАЗА ДАННЫХ ===
database:
  # Путь к файлу SQLite для отслеживания загруженных файлов
  path: "./cloudpbx_calls.db"

# === ЛОГИРОВАНИЕ ===
logging:
  # Уровень логирования: DEBUG, INFO, WARNING, ERROR
  level: "INFO"
  
  # Файл для записи логов
  file: "watcher.log"
  
  # Формат сообщений лога
  format: "%(asctime)s - %(levelname)s - %(message)s"

